<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="js/jquery.min.js"></script>
    <style>
        ul>li{
            list-style-type: none
        }
    </style>
</head>
<body>
     <h1>The Login</h1>
     <form >
        <ul>
            <li>username:</li>
            <li><input type="text" name="username" id="username"></li>
            <li>password:</li>
            <li><input type="password" name="password" id="password"></li>
            <li><input type="button" value="Login" onclick="doJQueryAjaxLogin()"></li>
        </ul>
     </form>
     <script>
         function doLogin(){
              let username=document.forms[0].username.value;
              let password=document.forms[0].password.value;
              let url="http://localhost/user/login/"+username+"/"+password;
              location.href=url;
         }
         function doAjaxLogin(){
            //创建XmlHttpRequest对象
             let xhr=new XMLHttpRequest();
             //设置状态监听(可选)
             xhr.onreadystatechange=function (){
                 if(xhr.readyState==4){
                     if(xhr.status==200){
                        /* alert(xhr.responseText);*/
                         let jsonObj=JSON.parse(xhr.responseText);
                         console.log(jsonObj);
                         alert(jsonObj.message);
                     }
                 }
             }
             //建立链接
             let username=document.forms[0].username.value;
             let password=document.forms[0].password.value;
             let url="http://localhost/user/login/${username}/${password}";
             xhr.open("get",url,true);
             //发送请求
             xhr.send(null);
         }

         function doJQueryAjaxLogin(){
             debugger
             //1.请求参数
             let username= $("#username").val();
             let password= $("#password").val();
             //2.请求url
             let url = 'http://localhost/user/login/${username}/${password}';
             //3.异步请求
             $.ajax({
                 method : "get",
                 url : url,
                 success(result){
                     console.log(result);
                 }
             });
         }

     </script>
</body>
</html>